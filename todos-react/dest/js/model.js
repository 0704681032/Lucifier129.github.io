var app=app||{};(function(e){function t(e){this.name=e,this.todos=localStorage.getItem(e),this.todos?this.todos=JSON.parse(this.todos):this.todos=[]}t.prototype={$find:function(e){var t=[],n;return this.todos.forEach(function(n){n[e.name]==e.value&&t.push(n)}),t},getTodo:function(e){return this.$find({name:"id",value:e})[0]},getAll:function(){return this.todos},getActive:function(){return this.$find({name:"completed",value:!1})},getCompleted:function(){return this.$find({name:"completed",value:!0})},addTodo:function(e){this.todos.push(e)},removeTodo:function(e){var t=this.getTodo(e),n=this.todos.indexOf(t);n>=0&&this.todos.splice(n,1)},save:function(){localStorage.setItem(this.name,JSON.stringify(this.todos))}},e.Model=t})(app);